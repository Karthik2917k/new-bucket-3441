let salesarr = [
  {
    img: "https://images.asos-media.com/products/levis-hi-top-square-trainer-in-cream-camo-with-tab-logo/201375623-1-multi?$n_640w$&wid=634&fit=constrain",
    name: "ASOS DESIGN",
    price: 40,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-lace-up-derby-shoes-in-brown-leather/201163816-1-brown?$n_640w$&wid=634&fit=constrain",
    name: "ASOS DESIGN tech sandals",
    price: 44,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-lace-up-boots-in-brown-faux-leather-brown/12510724-1-brown?$n_640w$&wid=634&fit=constrain",
    name: "ASOS DESIGN",
    price: 20,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-chunky-trainers-in-orange/201378659-1-orange?$n_640w$&wid=634&fit=constrain",
    name: "Converse Run Star Hike trainers",
    price: 22,
  },
  {
    img: "https://images.asos-media.com/products/new-look-strap-sandal-in-dark-khaki/203152826-1-darkkhaki?$n_640w$&wid=634&fit=constrain",
    name: "Tommy Hilfiger corporate runner trainer",
    price: 33,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-mutli-panel-chunky-trainers/201222923-1-multi?$n_640w$&wid=634&fit=constrain",
    name: "adidas Originals Ozweego",
    price: 32,
  },
  {
    img: "https://images.asos-media.com/products/levis-square-trainer-in-cream-camo-print-with-tab-logo/201375247-1-multi?$n_640w$&wid=634&fit=constrain",
    name: "ASOS DESIGN tech sandals",
    price: 35,
  },
  {
    img: "https://images.asos-media.com/products/new-balance-327-trainers-in-burgundy-and-burnt-orange/200496384-1-burgundy?$n_640w$&wid=634&fit=constrain",
    name: "ASOS DESIGN",
    price: 43,
  },
  {
    img: "https://images.asos-media.com/products/ben-sherman-mule-slippers-in-brown/23990746-1-brown?$n_640w$&wid=634&fit=constrain",
    name: "Converse Run Star Hike trainers",
    price: 32,
  },
  {
    img: "https://images.asos-media.com/products/sheepskin-by-totes-contrast-mule-in-chestnut/24119390-1-tan?$n_640w$&wid=634&fit=constrain",
    name: "Tommy Hilfiger corporate runner trainer",
    price: 22,
  },
  {
    img: "https://images.asos-media.com/products/truffle-collection-fluffy-mule-slipper-in-grey/24155893-1-grey?$n_640w$&wid=634&fit=constrain",
    name: "adidas Originals Ozweego",
    price: 14,
  },
  {
    img: "https://images.asos-media.com/products/luke-shoe-care-kit/24310190-1-multi?$n_640w$&wid=634&fit=constrain",
    name: "ASOS DESIGN tech sandals",
    price: 17,
  },
  {
    img: "https://images.asos-media.com/products/london-rebel-x-jelly-buckle-sliders-in-khaki/201648486-1-khaki?$n_640w$&wid=634&fit=constrain",
    name: "ASOS DESIGN",
    price: 22,
  },
  {
    img: "https://images.asos-media.com/products/london-rebel-x-jelly-buckle-sliders-in-black/201648791-1-black?$n_640w$&wid=634&fit=constrain",
    name: "Converse Run Star Hike trainers",
    price: 24,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-tech-sandals-in-grey/201549063-1-grey?$n_640w$&wid=634&fit=constrain",
    name: "Tommy Hilfiger corporate runner trainer",
    price: 45,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-tech-sandals-in-grey/201549063-1-grey?$n_640w$&wid=634&fit=constrain",
    name: "adidas Originals Ozweego",
    price: 45,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-mule-loafers-in-bright-pink-faux-leather-with-natural-faux-fur/201753388-1-pink?$n_640w$&wid=634&fit=constrain",
    name: "ASOS DESIGN tech sandals",
    price: 33,
  },
  {
    img: "https://images.asos-media.com/products/walk-london-premium-shark-hiker-boots-in-black-leather/24478176-1-black?$n_640w$&wid=634&fit=constrain",
    name: "ASOS DESIGN",
    price: 30,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-super-chunky-padded-square-toe-chelsea-boot-with-zip-detail-in-grey-nylon/200774899-1-grey?$n_640w$&wid=634&fit=constrain",
    name: "Converse Run Star Hike trainers",
    price: 32,
  },
  {
    img: "https://images.asos-media.com/products/public-desire-man-rococo-faux-fur-bar-slippers-in-tan/200976525-1-brown?$n_640w$&wid=634&fit=constrain",
    name: "Tommy Hilfiger corporate runner trainer",
    price: 30,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-trainers-in-beige/200490669-1-stone?$n_640w$&wid=634&fit=constrain",
    name: "adidas Originals Ozweego",
    price: 20,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-chunky-loafers-in-silver-faux-leather-with-contrast-sole/200931716-1-sliver?$n_640w$&wid=634&fit=constrain",
    name: "ASOS DESIGN tech sandals",
    price: 23,
  },
  {
    img: "https://images.asos-media.com/products/river-island-lace-up-boot-in-brown/201275460-1-browndark?$n_640w$&wid=634&fit=constrain",
    name: "ASOS DESIGN",
    price: 35,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-lace-up-plimsolls-in-white-with-green-transparent-sole/200698884-1-white?$n_640w$&wid=634&fit=constrain",
    name: "Converse Run Star Hike trainers",
    price: 34,
  },
  {
    img: "https://images.asos-media.com/products/public-desire-man-ranger-curly-faux-fur-slippers-in-tan/200976432-1-brown?$n_640w$&wid=634&fit=constrain",
    name: "Tommy Hilfiger corporate runner trainer",
    price: 43,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-square-toe-backless-mule-loafers-in-beige-faux-snake-print/200592205-1-beige?$n_640w$&wid=634&fit=constrain",
    name: "adidas Originals Ozweego",
    price: 20,
  },
  {
    img: "https://images.asos-media.com/products/public-desire-man-ranger-curly-faux-fur-slippers-in-black/200976407-1-black?$n_640w$&wid=634&fit=constrain",
    name: "ASOS DESIGN tech sandals",
    price: 30,
  },
  {
    img: "https://images.asos-media.com/products/new-look-toggle-sandals-in-dark-khaki/202865153-1-darkkhaki?$n_640w$&wid=634&fit=constrain",
    name: "ASOS DESIGN",
    price: 32,
  },
  {
    img: "https://images.asos-media.com/products/new-look-technical-sandals-in-grey/202846051-1-lightgrey?$n_640w$&wid=634&fit=constrain",
    name: "Converse Run Star Hike trainers",
    price: 23,
  },
  {
    img: "https://images.asos-media.com/products/new-look-toggle-sandals-in-lime/202845959-1-lime?$n_640w$&wid=634&fit=constrain",
    name: "Tommy Hilfiger corporate runner trainer",
    price: 22,
  },
  {
    img: "https://images.asos-media.com/products/new-look-toggle-sandals-in-white/202846080-1-white?$n_640w$&wid=634&fit=constrain",
    name: "adidas Originals Ozweego",
    price: 40,
  },
  {
    img: "https://images.asos-media.com/products/shaka-schlaf-padded-slipper-shoes-in-khaki/201385280-1-khaki?$n_640w$&wid=634&fit=constrain",
    name: "ASOS DESIGN tech sandals",
    price: 34,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-lace-up-boots-in-black-leather-with-chunky-sole/23245496-1-black?$n_640w$&wid=634&fit=constrain",
    name: "ASOS DESIGN",
    price: 44,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-chunky-trainers-with-rubberised-panels-in-purple/201222987-1-purple?$n_640w$&wid=634&fit=constrain",
    name: "Converse Run Star Hike trainers",
    price: 35,
  },
  {
    img: "https://images.asos-media.com/products/walk-london-alexis-quilted-double-strap-sandals-in-black-leather/201506714-1-black?$n_640w$&wid=634&fit=constrain",
    name: "Tommy Hilfiger corporate runner trainer",
    price: 38,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-faux-leather-retro-trainers-in-green-white/201222986-1-green?$n_640w$&wid=634&fit=constrain",
    name: "adidas Originals Ozweego",
    price: 40,
  },
  {
    img: "https://images.asos-media.com/products/new-look-toggle-sandals-in-white/202846080-1-white?$n_640w$&wid=634&fit=constrain",
    name: "ASOS DESIGN tech sandals",
    price: 35,
  },
];
container = document.querySelector(".container");
let filter = document.querySelector("#name");
let namefilter = document.querySelector("#namee");
let cartls = JSON.parse(localStorage.getItem("cartpage")) || [];
let flag = JSON.parse(localStorage.getItem("flag")) || [];
function display(data) {
  container.innerHTML = "";
  data.forEach(function (el) {
    let div = document.createElement("div");
    let img = document.createElement("img");
    img.src = el.img;
    let name = document.createElement("h3");
    name.textContent = el.name;
    let Price = document.createElement("p");
    Price.textContent = "$ " + el.price + " /-";
    let button = document.createElement("button");
    button.textContent = "ADD TO BAG";
    button.addEventListener("click", function () {
      addtocart(el);
    });
    div.append(img, name, Price, button);
    container.append(div);
  });
}
display(salesarr);
filter.addEventListener("change", function () {
  if (filter.value === "Product-price") {
    display(salesarr);
  } else if (filter.value === "High-Low") {
    let filtered = salesarr.sort(function (a, b) {
      return b.price - a.price;
    });
    display(filtered);
  } else if (filter.value === "Low-High") {
    let filtered = salesarr.sort(function (a, b) {
      return a.price - b.price;
    });
    display(filtered);
  }
});

function addtocart(product) {
  if (flag === true) {
    cartls.push(product);
    alert("Product added Succesfully");
    localStorage.setItem("cartpage", JSON.stringify(cartls));
  } else {
    alert("Please Login");
    window.location.href = "signin.html";
  }
}
let signin = document.querySelector("#signin");
let signup = document.querySelector("#signup");
let signinarr = JSON.parse(localStorage.getItem("signin")) || [];
if (signinarr === null) {
  signin.textContent = "Sign In";
  signup.textContent = "Sign Up";
} else if (signinarr !== null) {
  signin.textContent = signinarr[signinarr.length - 1].name;
  signup.textContent = "";
}
namefilter.addEventListener("change", function () {
    if (namefilter.value === "") {
      display(salesarr);
    } else if (namefilter.value === "A-Z") {
      let filtered = salesarr.sort(function (a, b) {
        if (a.name.toUpperCase() > b.name.toUpperCase()) return 1;
        if (a.name.toUpperCase() < b.name.toUpperCase()) return -1;
        return 0;
      });
      display(filtered);
    } else if (namefilter.value === "Z-A") {
      let filtered = salesarr.sort(function (a, b) {
        if (a.name.toUpperCase() > b.name.toUpperCase()) return -1;
        if (a.name.toUpperCase() < b.name.toUpperCase()) return 1;
        return 0;
      });
      display(filtered);
    }
  });