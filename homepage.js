let salesarr = [
  {
    img: "https://images.asos-media.com/products/topman-oversized-coach-jacket-in-khaki/200771334-1-khaki?$n_640w$&wid=634&fit=constrain",
    name: "Topman oversized coach jacket in khaki",
    price: 20,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-baggy-jeans-with-double-pleat-and-elastic-waist-detail/23512001-1-lightwashblue?$n_960w$&wid=952&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 30,
  },
  {
    img: "https://images.asos-media.com/products/topman-oversized-knitted-crew-neck-jumper-with-all-over-digital-print-in-multi/201610654-1-multi?$n_640w$&wid=634&fit=constrain",
    name: "New Look oversized joggers in dusty lilac",
    price: 30,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-black-trainers-with-monogram-print/201222808-1-black?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 40,
  },
  {
    img: "https://images.asos-media.com/products/new-look-jogger-in-black/201516198-1-black?$n_640w$&wid=634&fit=constrain",
    name: "Topman oversized coach jacket in khaki",
    price: 40,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-90s-oversized-shirt-in-colour-blocking-with-city-chest-print/200634085-1-multi?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 40,
  },
  {
    img: "https://images.asos-media.com/products/hollister-scenic-back-print-hoodie-in-black/201360438-1-black?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 20,
  },
  {
    img: "https://images.asos-media.com/products/new-look-hooded-faux-leather-biker-jacket-in-black/201197554-1-black?$n_640w$&wid=634&fit=constrain",
    name: "New Look oversized joggers in dusty lilac",
    price: 30,
  },
  {
    img: "https://images.asos-media.com/products/asos-4505-base-layer-leggings-with-camo-print/200434121-1-blackcamo?$n_640w$&wid=634&fit=constrain",
    name: "Topman oversized coach jacket in khaki",
    price: 40,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-baggy-double-pleat-jeans-in-washed-black-with-elasticated-waist/23858204-1-washedblack?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 40,
  },
  {
    img: "https://images.asos-media.com/products/topman-cotton-blend-skinny-jeans-with-blow-out-rips-in-light-wash-mblue/24059146-1-blue?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 30,
  },
  {
    img: "https://images.asos-media.com/products/topman-longsleeve-oversized-fit-tie-dye-t-shirt-with-front-and-back-north-dakota-print-in-green/200896667-1-green?$n_640w$&wid=634&fit=constrain",
    name: "New Look oversized joggers in dusty lilac",
    price: 20,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-oversized-twill-jacket-in-all-over-print/201677238-1-multi?$n_640w$&wid=634&fit=constrain",
    name: "Topman oversized coach jacket in khaki",
    price: 50,
  },
  {
    img: "https://images.asos-media.com/products/new-look-funnel-neck-puffer-in-stone/201132032-1-stone?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 15,
  },
  {
    img: "https://images.asos-media.com/products/the-north-face-nuptse-cropped-leopard-printed-jacket-in-white/24378105-1-white?$n_640w$&wid=634&fit=constrain",
    name: "New Look oversized joggers in dusty lilac",
    price: 20,
  },
  {
    img: "https://images.asos-media.com/products/the-north-face-synthetic-jacket-in-khaki-exclusive-at-asos/24358391-1-green?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 30,
  },
  {
    img: "https://images.asos-media.com/products/reclaimed-vintage-inspired-t-shirt-with-cactus-graphic-in-blue/202350384-1-blue?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 25,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-rectangle-sunglasses-with-pink-lens-in-black-black/201687299-1-black?$n_640w$&wid=634&fit=constrain",
    name: "Topman oversized coach jacket in khaki",
    price: 24,
  },
  {
    img: "https://images.asos-media.com/products/new-look-oversized-joggers-in-dusty-lilac/202440574-1-purple?$n_640w$&wid=634&fit=constrain",
    name: "New Look oversized joggers in dusty lilac",
    price: 20,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-retro-oval-sunglasses-with-amber-lens-in-black-black/201687407-1-black?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 20,
  },
  {
    img: "https://images.asos-media.com/products/asos-unrvlld-spply-co-ord-oversized-joggers-with-logo-print-in-black/201347073-1-black?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 30,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-baggy-jeans-in-ecru/201659716-1-ecru?$n_640w$&wid=634&fit=constrain",
    name: "Topman oversized coach jacket in khaki",
    price: 30,
  },
  {
    img: "https://images.asos-media.com/products/nike-repeat-pack-logo-taped-cargo-joggers-in-black/200877708-1-black?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 50,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-2-pack-necklace-with-faux-pearl-and-cross-pendant-in-silver-tone/201092021-1-silver?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 20,
  },
  {
    img: "https://images.asos-media.com/products/topman-co-ord-oversized-joggers-in-khaki/200265348-1-khaki?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 30,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-smart-wide-leg-trousers-with-drawcord-waist-in-khaki/201442615-1-green?$n_640w$&wid=634&fit=constrain",
    name: "Topman oversized coach jacket in khaki",
    price: 10,
  },
  {
    img: "https://images.asos-media.com/products/faded-future-chunky-chain-bracelet-with-anchor-links-in-iridescent/202071672-1-multi?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 20,
  },
  {
    img: "https://images.asos-media.com/products/nike-club-fleece-tapered-fit-joggers-in-particle-grey/201513851-1-grey?$n_640w$&wid=634&fit=constrain",
    name: " Faded Future chunky chain bracelet with anchor links in iridescent",
    price: 30,
  },
  {
    img: "https://images.asos-media.com/products/nike-club-metallic-logo-sweatshirt-in-grey/200952683-1-grey?$n_640w$&wid=634&fit=constrain",
    name: "Topman oversized coach jacket in khaki",
    price: 21,
  },
  {
    img: "https://images.asos-media.com/products/the-north-face-zumu-joggers-in-black/24310425-1-tnfblack?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 22,
  },
  {
    img: "https://images.asos-media.com/products/asos-actual-co-ord-oversized-t-shirt-with-front-logo-print-in-blue/202418790-1-lightblue?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 30,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-skinny-joggers-in-beige-navy-2-pack/201385461-1-beigenavy?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 20,
  },
  {
    img: "https://images.asos-media.com/products/topman-denim-basketball-short-in-ecru/201693340-1-ecru?$n_640w$&wid=634&fit=constrain",
    name: "Topman oversized coach jacket in khaki",
    price: 60,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-long-sleeve-roll-neck-t-shirt-in-white/200902084-1-white?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 30,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-midweight-half-zip-cotton-jumper-in-brown/24508494-1-brown?$n_640w$&wid=634&fit=constrain",
    name: "New Look oversized joggers in dusty lilac",
    price: 22,
  },
  {
    img: "https://images.asos-media.com/products/champion-small-logo-joggers-in-khaki/24443382-1-khaki?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 16,
  },
  {
    img: "https://images.asos-media.com/products/nike-premium-essentials-woven-overshirt-in-limestone/200883837-1-stone?$n_640w$&wid=634&fit=constrain",
    name: "Topman oversized coach jacket in khaki",
    price: 13,
  },
  {
    img: "https://images.asos-media.com/products/chelsea-peers-button-down-pyjamas-in-burgundy/200843028-1-red?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 30,
  },
  {
    img: "https://images.asos-media.com/products/french-connection-flight-jacket-with-faux-fur-hood-in-khaki/24373403-1-khaki?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 20,
  },
  {
    img: "https://images.asos-media.com/products/crooked-tongues-oversized-hoodie-with-fresh-fruit-delivery-graphic-in-white/202476899-1-white?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 40,
  },
];
container = document.querySelector(".container");
let filter = document.querySelector("#name");
let namefilter = document.querySelector("#namee");
let cartls = JSON.parse(localStorage.getItem("cartpage")) || [];
let flag = JSON.parse(localStorage.getItem("flag")) || [];
function display(data) {
  container.innerHTML = "";
  data.forEach(function (el) {
    let div = document.createElement("div");
    let img = document.createElement("img");
    img.src = el.img;
    let name = document.createElement("h3");
    name.textContent = el.name;
    let Price = document.createElement("p");
    Price.textContent = "$ " + el.price + " /-";
    let button = document.createElement("button");
    button.textContent = "ADD TO BAG";
    button.addEventListener("click", function () {
      addtocart(el);
    });
    div.append(img, name, Price, button);
    container.append(div);
  });
}
display(salesarr);
filter.addEventListener("change", function () {
  if (filter.value === "Product-price") {
    display(salesarr);
  } else if (filter.value === "High-Low") {
    let filtered = salesarr.sort(function (a, b) {
      return b.price - a.price;
    });
    display(filtered);
  } else if (filter.value === "Low-High") {
    let filtered = salesarr.sort(function (a, b) {
      return a.price - b.price;
    });
    display(filtered);
  }
});

function addtocart(product) {
  if (flag === true) {
    cartls.push(product);
    alert("Product added Succesfully");
    localStorage.setItem("cartpage", JSON.stringify(cartls));
  } else {
    alert("Please Login");
    window.location.href = "signin.html";
  }
}
let signin = document.querySelector("#signin");
let signup = document.querySelector("#signup");
let signinarr = JSON.parse(localStorage.getItem("signin")) || [];
if (signinarr === null) {
  signin.textContent = "Sign In";
  signup.textContent = "Sign Up";
} else if (signinarr !== null) {
  signin.textContent = signinarr[signinarr.length - 1].name;
  signup.textContent = "";
}
namefilter.addEventListener("change", function () {
    if (namefilter.value === "") {
      display(salesarr);
    } else if (namefilter.value === "A-Z") {
      let filtered = salesarr.sort(function (a, b) {
        if (a.name.toUpperCase() > b.name.toUpperCase()) return 1;
        if (a.name.toUpperCase() < b.name.toUpperCase()) return -1;
        return 0;
      });
      display(filtered);
    } else if (namefilter.value === "Z-A") {
      let filtered = salesarr.sort(function (a, b) {
        if (a.name.toUpperCase() > b.name.toUpperCase()) return -1;
        if (a.name.toUpperCase() < b.name.toUpperCase()) return 1;
        return 0;
      });
      display(filtered);
    }
  });
