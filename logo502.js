let salesarr=[
    {img:"https://images.asos-media.com/products/tommy-jeans-slim-fit-jeans-in-mid-blue/202991459-1-blue?$n_640w$&wid=634&fit=constrain",name:"Tommy Jeans joggers in zebra print",price:100},
    {img:"https://images.asos-media.com/products/tommy-jeans-watch-in-black-1791999/202106174-1-black?$n_640w$&wid=634&fit=constrain",name:"Tommy Jeans joggers in zebra print",price:101},
    {img:"https://images.asos-media.com/products/tommy-jeans-cozy-capsule-exclusive-to-asos-sherpa-bucket-hat-in-cream/201130415-1-corporate?$n_640w$&wid=634&fit=constrain",name:"Tommy Jeans joggers in zebra print",price:93},
    {img:"https://images.asos-media.com/products/tommy-hilfiger-loungewear-script-t-shirt/202388442-1-white?$n_960w$&wid=952&fit=constrain",name:"Tommy Jeans joggers in zebra print",price:90},
    {img:"https://images.asos-media.com/products/tommy-hilfiger-classic-logo-t-shirt-in-dark-grey/23955791-1-darkgreyheather?$n_640w$&wid=634&fit=constrain",name:"Tommy Jeans joggers in zebra print",price:89},
    {img:"https://images.asos-media.com/products/tommy-hilfiger-icon-runner-trainer-in-black/202338543-1-black?$n_640w$&wid=634&fit=constrain",name:"Tommy Jeans joggers in zebra print",price:90},
    {img:"https://images.asos-media.com/products/tommy-hilfiger-icon-runner-trainer-in-black/202338543-1-black?$n_640w$&wid=634&fit=constrain",name:"Tommy Jeans joggers in zebra print",price:94},
    {img:"https://images.asos-media.com/products/tommy-hilfiger-corporate-runner-trainer-in-black/201516669-1-black?$n_640w$&wid=634&fit=constrain",name:"Tommy Jeans joggers in zebra print",price:100},
    {img:"https://images.asos-media.com/products/tommy-hilfiger-essential-leather-cupsole-trainers-in-black/202343642-1-black?$n_640w$&wid=634&fit=constrain",name:"Tommy Jeans joggers in zebra print",price:105},
    {img:"https://images.asos-media.com/products/tommy-hilfiger-runner-trainer-in-white/202340568-1-white?$n_640w$&wid=634&fit=constrain",name:"Tommy Jeans joggers in zebra print",price:106},
    {img:"https://images.asos-media.com/products/tommy-hilfiger-runner-trainer-in-white/202340568-1-white?$n_640w$&wid=634&fit=constrain",name:"Tommy Jeans joggers in zebra print",price:100},
    {img:"https://images.asos-media.com/products/tommy-jeans-slim-fit-stretch-shirt-in-blue/201327187-1-blue?$n_640w$&wid=634&fit=constrain",name:"Tommy Jeans joggers in zebra print",price:99},
    {img:"https://images.asos-media.com/products/tommy-jeans-oversized-surplus-denim-overshirt-jacket-in-bleach-wash/201891501-1-bleachwash?$n_640w$&wid=634&fit=constrain",name:"Tommy Jeans joggers in zebra print",price:92},
    {img:"https://images.asos-media.com/products/tommy-hilfiger-oxford-shirt-with-stretch-in-slim-fit-in-blue/8907443-1-shirtblue?$n_640w$&wid=634&fit=constrain",name:"Tommy Jeans joggers in zebra print",price:98},
    {img:"https://images.asos-media.com/products/tommy-jeans-slim-fit-stretch-shirt-in-white/9509636-1-classicwhite?$n_640w$&wid=634&fit=constrain",name:"Tommy Jeans joggers in zebra print",price:96},
    {img:"https://images.asos-media.com/products/tommy-hilfiger-icon-logo-tipped-cuff-t-shirt-in-navy/202694751-1-navy?$n_640w$&wid=634&fit=constrain",name:"Tommy Jeans joggers in zebra print",price:99},
    {img:"https://images.asos-media.com/products/tommy-hilfiger-performance-essentials-cotton-big-logo-t-shirt-in-black-black/202757006-1-black?$n_640w$&wid=634&fit=constrain",name:"Tommy Jeans joggers in zebra print",price:90},
    {img:"https://images.asos-media.com/products/tommy-jeans-chest-college-logo-t-shirt-in-white/201891420-1-white?$n_640w$&wid=634&fit=constrain",name:"Tommy Jeans joggers in zebra print",price:100},
    {img:"https://images.asos-media.com/products/tommy-jeans-nylon-blend-joggers-in-beige-beige/202787066-1-beige?$n_640w$&wid=634&fit=constrain",name:"Tommy Jeans joggers in zebra print",price:100},
    {img:"https://images.asos-media.com/products/tommy-hilfiger-performance-essentials-logo-cuffed-joggers-in-black/202454713-1-black?$n_640w$&wid=634&fit=constrain",name:"Tommy Jeans joggers in zebra print",price:109},
    {img:"https://images.asos-media.com/products/tommy-hilfiger-embroidered-flag-logo-cuffed-joggers-in-green/200736837-1-olivewood?$n_640w$&wid=634&fit=constrain",name:"Tommy Jeans joggers in zebra print",price:100},
    {img:"https://images.asos-media.com/products/tommy-hilfiger-performance-colorblock-cuffed-joggers-in-navy/202756991-1-desertsky?$n_640w$&wid=634&fit=constrain",name:"Tommy Jeans joggers in zebra print",price:99},
    {img:"https://images.asos-media.com/products/tommy-hilfiger-icon-flag-logo-insert-panel-sweatshirt-in-navy/202423174-1-navy?$n_640w$&wid=634&fit=constrain",name:"Tommy Jeans joggers in zebra print",price:109},
    {img:"https://images.asos-media.com/products/tommy-jeans-central-flag-badge-sweatshirt-relaxed-fit-in-green/201891742-1-green?$n_640w$&wid=634&fit=constrain",name:"Tommy Jeans joggers in zebra print",price:99},
    {img:"https://images.asos-media.com/products/tommy-hilfiger-exclusive-to-asos-lounge-half-zip-with-chest-flag-logo-in-cream/201121654-1-cream?$n_640w$&wid=634&fit=constrain",name:"Tommy Jeans joggers in zebra print",price:92},
]

container=document.querySelector(".container");
let filter=document.querySelector("#name");
let cartls=JSON.parse(localStorage.getItem("cartpage"))||[];
let flag=JSON.parse(localStorage.getItem("flag"))||[];
function display(data){
    container.innerHTML="";
    data.forEach(function(el){
        let div=document.createElement("div");
        let img=document.createElement("img");
        img.src=el.img;
        let name=document.createElement("h3");
        name.textContent=el.name;
        let Price=document.createElement("p");
        Price.textContent="$ "+el.price+" /-";
        let button=document.createElement("button");
        button.textContent="ADD TO BAG";
        button.addEventListener("click", function () {
            addtocart(el);
          });
        div.append(img,name,Price,button);
        container.append(div);
    });
}
display(salesarr);
filter.addEventListener("change", function () {
    if (filter.value ==="Product-price" ) {
        display(salesarr);
    } else if(filter.value ==="High-Low") {
      let filtered = salesarr.sort(function (a,b) {
        return b.price-a.price;
      });
      display(filtered);
    }
    else if(filter.value ==="Low-High") {
        let filtered = salesarr.sort(function (a,b) {
          return a.price-b.price;
        });
        display(filtered);
      }
      
  });

  
function addtocart(product) {
    if(flag===true){
        cartls.push(product);
        alert("Product added Succesfully");
        localStorage.setItem("cartpage", JSON.stringify(cartls));
    }
    else{
        alert("Please Login");
        window.location.href="signin.html";
    }
}
let signin=document.querySelector("#signin");
let signup=document.querySelector("#signup");
let signinarr=JSON.parse(localStorage.getItem("signin"))||[];
if(signinarr === null){
    signin.textContent="Sign In";
    signup.textContent="Sign Up"
}
else if(signinarr !== null){
    signin.textContent=signinarr[signinarr.length-1].name;
    signup.textContent=""
}
