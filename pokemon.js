salesarr = [
  {
    img: "https://images.asos-media.com/products/asos-design-knitted-tank-with-pokemon-ditto-check-print-in-lilac/203081117-1-multi?$n_640w$&wid=634&fit=constrain",
    name: "Topman oversized coach jacket in khaki",
    price: 20,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-unisex-pokemon-bucket-hat-with-bulbasaur-embroidery-in-tie-dye-cord/201976380-1-multi?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 30,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-unisex-pokemon-bucket-hat-with-jigglypuff-embroidery-in-pink-borg/201976366-1-lightpink?$n_640w$&wid=634&fit=constrain",
    name: "New Look oversized joggers in dusty lilac",
    price: 30,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-co-ord-oversized-t-shirt-with-pokemon-all-over-prints-in-blue/202886519-1-blue?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 40,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-co-ord-oversized-t-shirt-with-pokemon-all-over-prints-in-blue/202886519-1-blue?$n_640w$&wid=634&fit=constrain",
    name: "Topman oversized coach jacket in khaki",
    price: 40,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-knitted-jumper-with-pokemon-pikachu-print-in-grey-lilac/203171567-1-grey?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 40,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-pokemon-oversized-graphic-hoodie-with-seam-detail-in-white/203013390-1-white?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 20,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-pokemon-graphic-vest-with-tipping-in-bright-blue/203013514-1-brightblue?$n_960w$&wid=952&fit=constrain",
    name: "New Look oversized joggers in dusty lilac",
    price: 30,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-pokemon-oversized-tank-with-glitter-jigglypuff-graphic-print-in-black/203013300-1-black?$n_640w$&wid=634&fit=constrain",
    name: "Topman oversized coach jacket in khaki",
    price: 40,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-pokemon-oversized-graphic-hoodie-with-seam-detail-in-white/203013390-1-white?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 40,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-pokemon-unisex-3-pack-charmander-evolution-sports-sock-in-pink/202249204-1-lightpink?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 30,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-pokemon-oversized-t-shirt-with-pikachu-graphic-print-in-white/203013310-1-white?$n_640w$&wid=634&fit=constrain",
    name: "Topman oversized coach jacket in khaki",
    price: 50,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-pokemon-wavy-graphic-printed-bodycon-mini-dress/203101093-1-multi?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 15,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-unisex-pokemon-tote-bag-with-pikachu-and-scorbunny-embroideries-in-black-fur/201972446-1-black?$n_640w$&wid=634&fit=constrain",
    name: "New Look oversized joggers in dusty lilac",
    price: 20,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-oversized-t-shirt-with-pokemon-graffiti-print-in-black-and-white/202886027-1-multi?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 30,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-pokemon-oversized-t-shirt-with-element-graphic-print-in-tie-dye/203013364-1-blackandpink?$n_960w$&wid=952&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 25,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-co-ord-shorts-with-pokemon-print-in-pink/202888355-1-pink?$n_640w$&wid=634&fit=constrain",
    name: "Topman oversized coach jacket in khaki",
    price: 24,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-pokemon-oversized-graphic-t-shirt-in-pink/203013282-1-pink?$n_640w$&wid=634&fit=constrain",
    name: "New Look oversized joggers in dusty lilac",
    price: 20,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-swim-short-with-pokemon-checkerboard-print/202885303-1-multi?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 20,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-unisex-co-ord-jogger-with-pokemon-all-over-prints/203012227-1-multi?$n_960w$&wid=952&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 30,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-unisex-co-ord-oversized-hoodie-with-pokemon-all-over-prints/202885820-1-multi?$n_640w$&wid=634&fit=constrain",
    name: "Topman oversized coach jacket in khaki",
    price: 30,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-unisex-pokemon-cotton-tote-bag-with-charmander-evolution-print-in-washed-black/202012268-1-black?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 50,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-pokemon-oversized-t-shirt-dress-with-eevee-graphic-print-in-charcoal/203013524-1-charcoal?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 20,
  },
  {
    img: "https://images.asos-media.com/products/asos-design-unisex-oversized-t-shirt-with-pokemon-print-in-black/202885930-1-black?$n_640w$&wid=634&fit=constrain",
    name: "New Look funnel neck puffer in stone",
    price: 30,
  },
];
container = document.querySelector(".container");
let namefilter = document.querySelector("#namee");
let filter = document.querySelector("#name");
let cartls = JSON.parse(localStorage.getItem("cartpage")) || [];
let flag = JSON.parse(localStorage.getItem("flag")) || [];
function display(data) {
  container.innerHTML = "";
  data.forEach(function (el) {
    let div = document.createElement("div");
    let img = document.createElement("img");
    img.src = el.img;
    let name = document.createElement("h3");
    name.textContent = el.name;
    let Price = document.createElement("p");
    Price.textContent = "$ " + el.price + " /-";
    let button = document.createElement("button");
    button.textContent = "ADD TO BAG";
    button.addEventListener("click", function () {
      addtocart(el);
    });
    div.append(img, name, Price, button);
    container.append(div);
  });
}
display(salesarr);
filter.addEventListener("change", function () {
  if (filter.value === "Product-price") {
    display(salesarr);
  } else if (filter.value === "High-Low") {
    let filtered = salesarr.sort(function (a, b) {
      return b.price - a.price;
    });
    display(filtered);
  } else if (filter.value === "Low-High") {
    let filtered = salesarr.sort(function (a, b) {
      return a.price - b.price;
    });
    display(filtered);
  }
});

function addtocart(product) {
  if (flag === true) {
    cartls.push(product);
    alert("Product added Succesfully");
    localStorage.setItem("cartpage", JSON.stringify(cartls));
  } else {
    alert("Please Login");
    window.location.href = "signin.html";
  }
}
let signin = document.querySelector("#signin");
let signup = document.querySelector("#signup");
let signinarr = JSON.parse(localStorage.getItem("signin")) || [];
if (signinarr === null) {
  signin.textContent = "Sign In";
  signup.textContent = "Sign Up";
} else if (signinarr !== null) {
  signin.textContent = signinarr[signinarr.length - 1].name;
  signup.textContent = "";
}
namefilter.addEventListener("change", function () {
    if (namefilter.value === "") {
      display(salesarr);
    } else if (namefilter.value === "A-Z") {
      let filtered = salesarr.sort(function (a, b) {
        if (a.name.toUpperCase() > b.name.toUpperCase()) return 1;
        if (a.name.toUpperCase() < b.name.toUpperCase()) return -1;
        return 0;
      });
      display(filtered);
    } else if (namefilter.value === "Z-A") {
      let filtered = salesarr.sort(function (a, b) {
        if (a.name.toUpperCase() > b.name.toUpperCase()) return -1;
        if (a.name.toUpperCase() < b.name.toUpperCase()) return 1;
        return 0;
      });
      display(filtered);
    }
  });
